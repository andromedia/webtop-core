!function o(u,a,s){function c(t,e){var n,r,i
if(!a[t]){if(!u[t]){if(n="function"==typeof require&&require,!e&&n)return n(t,!0)
if(l)return l(t,!0)
throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}i=a[t]={exports:{}},u[t][0].call(i.exports,function(e){return c(u[t][1][e]||e)},i,i.exports,o,u,a,s)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e])
return c}({1:[function(e,t,n){"use strict"
var r,E,b,m,A,D,T,i,o=function(){function r(e,t){var n,r
for(n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}()
r=e("./utils"),E=r.getQuotePairMap,b="RESET",m="IN_OPERAND",A="IN_TEXT",D="SINGLE_QUOTE",T="DOUBLE_QUOTE",i=function(){function S(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,S),this.conditionArray=e,this.textSegments=t,this.string="",this.isStringDirty=!0}return o(S,[{key:"getConditionArray",value:function(){return this.conditionArray}},{key:"getParsedQuery",value:function(){var t={exclude:{}}
return this.conditionArray.forEach(function(e){e.negated?t.exclude[e.keyword]?t.exclude[e.keyword].push(e.value):t.exclude[e.keyword]=[e.value]:t[e.keyword]?t[e.keyword].push(e.value):t[e.keyword]=[e.value]}),t}},{key:"getAllText",value:function(){return this.textSegments?this.textSegments.map(function(e){var t=e.text
return e.negated?"-"+t:t}).join(" "):""}},{key:"getTextSegments",value:function(){return this.textSegments}},{key:"removeKeyword",value:function(r,i){this.conditionArray=this.conditionArray.filter(function(e){var t=e.keyword,n=e.negated
return r!==t||i!==n}),this.isStringDirty=!0}},{key:"addEntry",value:function(e,t,n){this.conditionArray.push({keyword:e,value:t,negated:n}),this.isStringDirty=!0}},{key:"removeEntry",value:function(t,n,r){var e=this.conditionArray.findIndex(function(e){return e.keyword===t&&e.value===n&&e.negated===r});-1!==e&&(this.conditionArray.splice(e,1),this.isStringDirty=!0)}},{key:"clone",value:function(){return new S(this.conditionArray.slice(0),this.textSegments.slice(0))}},{key:"toString",value:function(){var u,r
return this.isStringDirty&&(u={},this.conditionArray.forEach(function(e){var t=e.keyword,n=e.value,r=e.negated,i=r?"-":"",o=""+i+t
u[o]?u[o].push(n):u[o]=[n]}),r="",Object.keys(u).forEach(function(e){var t=u[e],n=t.filter(function(e){return e}).map(function(e){var t,n,r="",i=!1
for(t=0;t<e.length;t++)'"'===(n=e[t])?r+='\\"':(" "!==n&&","!==n||(i=!0),r+=n)
return i?'"'+r+'"':r})
0<n.length&&(r+=" "+e+":"+n.join(","))}),this.string=(r+" "+this.getAllText()).trim(),this.isStringDirty=!1),this.string}}],[{key:"parse",value:function(e){var i,t,a,n,r,o,u,s,c,l,f,d,g,y,h,v,k,p,w,x=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[]
for(e||(e=""),i=[],t=[],a=function(e,t,n){var r={keyword:e,value:t,negated:n}
i.push(r)},n=function(i,o){var u=!1
x.forEach(function(e){var t=e(i),n=t.key,r=t.value
n&&r&&(a(n,r,o),u=!0)}),u||t.push({text:i,negated:o})},l=c=s=u=o=r=void 0,d=function(){return r===A},g=function(){return r===m},y=function(){return c===D},h=function(){return c===T},v=function(){return y()||h()},(f=function(){c=r=b,u=!1,l=s=o=""})(),k=E(e),p=0;p<e.length;p++)" "===(w=e[p])?g()?v()?o+=w:(a(s,o,u),f()):d()&&(v()?s+=w:(n(s,u),f())):","===w&&g()&&!v()?(a(s,o,u),o=""):"-"!==w||g()||d()?":"!==w||v()?'"'!==w||"\\"===l||y()?"'"!==w||"\\"===l||h()?"\\"!==w&&(g()?o+=w:(s+=w,r=A)):y()?c=b:k.single[p]?c=D:g()?o+=w:s+=w:h()?c=b:k.double[p]?c=T:g()?o+=w:s+=w:g()?o+=w:d()&&(r=m):u=!0,l=w
return d()?n(s,u):g()&&a(s,o,u),new S(i,t)}}]),S}(),t.exports=i},{"./utils":2}],2:[function(e,t,n){"use strict"
t.exports={getQuotePairMap:function(e){var t,n,r,i,o
for(e||(e=""),t={single:{},double:{}},n={single:-1,double:-1},r="",i=0;i<e.length;i++)o=e[i],"\\"!==r&&('"'===o?0<=n.double?(t.double[n.double]=!0,t.double[i]=!0,n.double=-1):n.double=i:"'"===o&&(0<=n.single?(t.single[n.single]=!0,t.single[i]=!0,n.single=-1):n.single=i)),r=o
return t}}},{}],3:[function(e,t,n){window.SearchString=e("./dist/node/searchString")},{"./dist/node/searchString":1}]},{},[3])
